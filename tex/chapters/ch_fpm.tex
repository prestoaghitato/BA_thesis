% !TEX root = ../ba_master.tex
% @author Marcel Ruland (2018)

\chapter{Applying \fpmupper}
\label{ch:mining}
\emph{chapter description goes here}

\section{Method}
The following subsections begin by introducing the raw data \emph{as-is} and then proceed by describing the process of annotating and evaluating the data, thus going steadily from the most concrete to more and more abstract representations. I begin by describing the contents of the video corpus and eventually end with abstract rules\footnote{For the definition of \emph{rule} here, see section \ref{sec:mining} on page~\pageref{sec:mining}.}.

\subsection{The Nature of the Data}
Explain what happens in the videos basically, not yet talking about coding the data.

\subsection{Annotation of the Videos}
11 kinds of events were hand-coded for both mother and child using the \textsc{elan} software \citep{wittenburg06}. These categories were of linguistic, vocal, and visual modality. Categories were chosen HOW??  % ELABORATE here
Table \ref{tab:categories} lists all categories. Every annotation contains a start and end time point and therefore also the duration of the respective event. This way, sequences as shown in Figure \ref{fig:idealseq} are obtained (note that this is a fictional sequence). \fpmlabel{A}, \fpmlabel{B}, and \fpmlabel{C} are three different kinds of events; the x-axis represents time. We see two occurrences of type \fpmlabel{A} and \fpmlabel{B} each, as well as a longer occurrence of type \fpmlabel{C}. Those time points that are indicated on the x-axis mark the beginning and/or end time point of a specific occurrence. All occurrences of a dyad together are referred to as a sequence, i.e.\ there are 11 sequences in the corpus.

\input{tables/tab_categories.tex}
\input{tikzpictures/tikz_idealseq.tex}

\subsection{Mining Approach}
\label{sec:mining}
The fundamental aim of \fpmlower\ techniques is to find patterns in a data set that occur \emph{frequently}. The specific kind of pattern and the definition of \emph{frequent} cannot be generalised and depend heavily on the individual application. In contrast to descriptive and inferential statistics, which disprove or affirm hypotheses generated beforehand, \fpmlower\ is of an exploratory, hypothesis-generating nature. Depending on the patterns found, one may then formulate hypotheses afterwards, which may then in turn be tested empirically using descriptive and inferential statistics \cite[\pnum{6~ff.,~tba}]{rohlfing18,han12}.%% ISSUE: How do you give page references for each individual source when citing multiple sources?

\subsubsection{Association Rules}
The patterns \citet{rohlfing18} looked for were association rules of the form \fpmrule{A}{B}, where the probability of the succedent \fpmset{B} was high given the antecedent \fpmset{A}. Note that antecedent and succedent are not single events but sets of events. One may equally well form a hypothetical rule of the form \fpmrule{B,D}{A,C,D}. Occurrences of a rule were taken into account if they fulfilled one of two conditions:

\begin{enumerate}
	\item The antecedent's start time point lies before that of the succedent.
	\item The antecedent's and succedent's start time points are identical, i.e.\ they begin simultaneously.
\end{enumerate}

Referring again to Figure \ref{fig:idealseq}, one can for example observe the rules \fpmrule{A}{B} and \fpmrule{A}{B, C} (because the start time point of the antecedent lies before that of the succedent), but not \fpmrule{B}{A}.

This scheme can be further adapted to the specific nature of the data. Given that the data are hand-coded and that time points are stored with a precision of Â±1~ms%IS THAT TRUE??
, the second condition will in all probability never be true. Regarding the first cnodition, the natural imprecision of coding by hand can lead to one annotation beginning before or after another essentially by pure chance, when in fact the two events begin \emph{at the same time.} The notion of \emph{at the same time} itself is problematic as well. Humans exhibit a certain reaction time to stimuli, which varies depending on the nature of the stimuli (SOURCE) but is always greater than 0~ms. It logically follows that if both mother and infant begin exhibiting a certain event \emph{at the same time,} then one event cannot be a reaction to the other because such a reaction would demand an appropriate reaction time. Therefore, an interpersonal rule, where both events begin at the same time, is the result of pure chance. Not only will it be a meaningless rule, but also an incorrect rule and, accordingly, should not be captured as a rule at all.

\paragraph{Choosing appropriate delays}
Human reaction time (henceforth \rt) varies depending on the nature of the stimulus. For acoustic stimuli, mean \rt\ lies  between 848--1052~ms for infants of age 6--9 months (N~=~24) and between 289--381~ms for adults of age 19--26 years (N~=~11).%
\footnote{Pure tone of 4000~Hz. No numerical values given. Converted from line chart using the Engauge Digitizer software \citep{mitchell02}.} 

%\citet{leibold02} measure reaction time (henceforth \rt) for infants of age 6--9 months (N~=~24) and adults of age 19--26 years (N~=~11). The stimulus was (among others, irrelevant for the present thesis) a pure tone with a frequency of 1000~Hz and a loudness of XX~dB. Due to the way audio was recorded in the dyadic corpus used for the present thesis, it is not possible to reliably assess the loudness of stimuli. However, both frequency and loudness in \citet{leibold02} roughly correspond to human speech in natural conversation (SOURCE).
%Unfortunately, \citeauthor{leibold02} only give an unlabelled line plot for the individual loudness values, not the numerical data itself. I have transformed the visual plot into numerical values using the CONVERSIONTOOL, which gave a mean \rt\ of %tilde
%300~ms for 60~dB, with a standard error of XX (standard deviation not given). % convert standard error to standard deviation?
%Subtracting two standard deviations from the mean \rt\ gives a value of 1050~ms. Demanding this delay for interpersonal rules includes the reaction time of 99.6~\% % correct value?
%of all adults (SOURCE). A similar procedure for infants gives a value of XX~ms. Subtracting another XX~ms to compensate for coders' imprecision, the minimum delays are XX~ms for rules of the sort \fpmtextrule{mother}{infant} and XX~ms for rules of the sort \fpmtextrule{infant}{mother}.

A further adjustment must be made related to coders' imprecision. For intrapersonal rules only, simultaneous start time points of two events are meaningful. In order to capture them accordingly, intrapersonal events with a maximum delay of XX~ms are considered to begin simultaneously. 

\section{Results}

%\subsection{Association Rules}
%In the following, I will first lay out the type of association rule used by \citet{rohlfing18} and then explain how I modified this scheme to better fit the interactional, multimodal nature of the data. The basic sequence is structured as follows:
%\begin{quote}
%	\code{<(A [1,3]),(A,B [3,4]),(A,B,C [4,7]),(C [7,8]),(A,C [8,9]),(A,B,C [9,13])>}
%\end{quote}
%
%In traditional sequential pattern mining, the basic data type---called a sequence---is an ordered set of (unordered) item sets \citep[\pnum{588~ff.}]{han12}. Here, every item set in the sequence has an additional annotation marking the start and end time points between which the item set (that is, one specific occurrence of it) is contained in the data. Figure \ref{fig:idealseq} gives a graphical representation of this example sequence. Rules of the sort \fpmrule{A}{B} must fulfil one of two conditions:
%\begin{enumerate}
%	\item The antecedent's start time point lies before that of the succedent.
%	\item The antecedent's and succedent's start time points are identical, i.e.\ they begin simultaneously.
%\end{enumerate}
%Therefore, in the example sequence one can observe the rules \fpmrule{A}{A,B} but not \fpmrule{B}{A,B}. The following three modifications improve the scheme to better fit the data:
%
%\paragraph{Imprecision of hand-coded data}
%The second condition is problematic given the nature of the data. Every annotation has been hand-coded and with coding by hand comes imprecision. Given the fact that the time points' are precise up to one millisecond, there will in all likelihood not be any two annotations that begin at the exact same point. After examination of the source files (i.e.\ \textsc{elan} files) and consultation with the coders I have decided to allow for a \imprecisiondelay\ delay such that two annotations \(a\) and \(b\) are treated as beginning simultaneously iff their start time points \(s_a\) and \(s_b\) lie no further than 300ms apart (\(|s_a - s_b| < 300ms\)). This delay accounts for the coders' imprecision.
%
%\paragraph{Inter- and intrapersonal rules}
%Given the dyadic nature of the data it is necessary to distinguish between inter- and intrapersonal rules not only in rule evaluation but already in the mining process. Depending on various factors, the average human reaction time to an event lies between XXX and XXXms. %values? source?
%It follows that if both mother and child begin an event at the same time or with a delay below reaction time, then the cooccurrence is pure chance and should not be considered a pattern. Analogous to the maximum delay described in the previous paragraph, interpersonal sequences are only considered with a minimum delay of \reactiontime\ between the time start points.



%zero delay only in intrapersonal rules, minimum delay for interpersonal rules -- reaction time
























